
<!DOCTYPE html>
<html>
    <head>
        <title>Automate Spotify</title>
        <meta charset="utf-8">
    </head>
    <body>
        <form id="playlist_id">
            <label id="label" for="fname">Youtube PlayList ID:</label>
            <input id="input_box" type="text" name="fname"
            onchange="PlaylistId()">
            <br><br>
            <input id="submit" type="submit" value="Add Songs to Spotify">
        </form>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            let playlist_id;

            const PlaylistId = () => {
                playlist_id = document.getElementById("input_box").value;
                console.log(playlist_id);
            }

            document.getElementById("submit").addEventListener('click', () => {
                // await axios.get('/login')
                 axios.get(`/YoutubeToSpotify?playlist_id=${playlist_id}`)
            })
         </script>
    </body>
</html>

<!-- axios.get(`/YoutubePlaylistToSpotify?playlist_id=${playlist_id}`) -->
<!-- // // console.log('playlist_id',playlist_id)
// // let result1 = await axios.get(`/login`)
// // let result2 = await axios.get(`/getYoutubePlaylistSongs?playlist_id=${playlist_id}`)
// // let result3 = await axios.get(`/makeSpotifyPlaylist`)
// // // await axios.get(`http://localhost:8888/getSpotifyURIs`)
// // // await axios.get(`http://localhost:8888/addSongsToPlaylist`)

// let requests = [axios.get(`/login`),axios.get(`/getYoutubePlaylistSongs?playlist_id=${playlist_id}`),axios.get(`/makeSpotifyPlaylist`),axios.get(`http://localhost:8888/getSpotifyURIs`),axios.get(`http://localhost:8888/addSongsToPlaylist`)]

// // Promise.all(requests)

// requests.forEach(async request => {
//     await request()
// })
// // .catch(error => {
// //     res.status(500).send('failed')
// // }) -->